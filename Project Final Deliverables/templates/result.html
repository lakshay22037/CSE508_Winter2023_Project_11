<!-- <!DOCTYPE html>
<html>
<head>
	<title>Object Detection and Audio Description</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
	<h1>Object Detection and Audio Description</h1>
	<form action="/" method="POST" enctype="multipart/form-data">
		<input type="file" name="image">
		<input type="submit" value="Upload">
	</form>
	<div id="labels"></div>
	<audio id="audio"></audio>
	<script>
		const form = document.querySelector('form');
		form.addEventListener('submit', async (e) => {
			e.preventDefault();
			const fileInput = document.querySelector('input[type=file]');
			const file = fileInput.files[0];
			const formData = new FormData();
			formData.append('image', file);
			const response = await fetch('/', {
				method: 'POST',
				body: formData
			});
			const data = await response.json();
			const labelsDiv = document.querySelector('#labels');
			if (data.labels.length > 0) {
				let labels = '';
				for (let label of data.labels) {
					labels += `<p>${label}</p>`;
				}
				labelsDiv.innerHTML = `This image contains the following objects: ${labels}`;
				const audio = document.querySelector('#audio');
				audio.src = data.audio;
				audio.play();
			} else {
				labelsDiv.innerHTML = 'No objects were detected in this image.';
			}
		});
	</script>
</body>
</html> -->

<!-- <!DOCTYPE html>
<html>
<head>
    <title>Object Detection Results</title>
</head>
<body>
    <h1>Object Detection Results</h1>
    <p>The image contains the following objects:</p>
    <ul>
        {% for label in labels %}
            <li>{{ label }}</li>
        {% endfor %}
    </ul>
</body>
</html> -->

<!DOCTYPE html>
<html>
<head>
	<title>Object Detection Result</title>
</head>
<body>
	<h1>Object Detection Result</h1>
	{% if labels %}
		<p>This image contains: {{ labels|join(', ') }}.</p>
		<p>And <audio>
			<source src="description.mp3" type="audio/mpeg">
			Your browser does not support the audio element.
		  </audio></p>
	{% else %}
		<p>No objects were detected in this image.</p>
	{% endif %}
</body>
</html>
